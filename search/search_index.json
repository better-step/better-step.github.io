{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Better Step","text":""},{"location":"#opensource-cad-data-conversion-sampling","title":"Open\u2011source CAD Data Conversion &amp; Sampling","text":"<p>Better Step is designed to unlock CAD data for research and industry. By converting proprietary STEP files into an open HDF5-based format, Better Step enables efficient processing on large-scale computing clusters, eliminating the need for expensive proprietary licenses.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Open Format: Proprietary CAD files are converted into a widely accessible HDF5 format.</li> <li>Comprehensive Representation: Captures both the geometry (curves, surfaces) and topology (solids, shells, faces, loops) of CAD models.</li> <li>Robust Sampling Methods: Provides reliable methods to compute surface normals, detect sharp features, and generate point clouds for machine learning applications.</li> <li>Extensible API: Easily integrate the library into Python workflows.</li> <li>Command-Line Interface (CLI): Supports batch processing for streamlined integration in automated pipelines.</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Visit the Installation page for setup instructions.</li> <li>Check out the Usage page for practical examples and workflows.</li> </ul>"},{"location":"#research-and-dataset","title":"Research and dataset","text":"<ul> <li>Paper (arXiv PDF): https://arxiv.org/pdf/2506.05417 </li> <li>Dataset (FRDR): https://www.frdr-dfdr.ca/repo/dataset/d54b95e0-bc14-4236-b50b-922e5bf4ba7d </li> </ul> <p>If you use Better Step in academic work, please cite the paper.</p>"},{"location":"#learn-more","title":"Learn More","text":"<ul> <li>API Documentation: Detailed overviews of modules like Geometry, Topology, Sampling, and Visualization.</li> <li>Examples: Interactive notebooks and sample code are provided to demonstrate advanced use cases.</li> </ul> <p>Welcome to Better Step \u2013 your gateway to democratizing CAD data for research and industry!</p>"},{"location":"api_overview/","title":"Overview","text":""},{"location":"api_overview/#better-step-api-overview","title":"Better Step API Overview","text":"<p>The Better Step API is organized into a small set of core modules that cover the full CAD processing workflow: load CAD parts from HDF5, inspect geometry and topology, and sample data for downstream applications such as machine learning, feature detection, and large-scale analysis.</p>"},{"location":"api_overview/#modules","title":"Modules","text":"<ul> <li> <p>Utilities (<code>abs.utils</code>)   Entry points for loading data from HDF5, including helpers such as <code>read_parts</code> (and <code>read_mesh</code> when mesh data is available).</p> </li> <li> <p>Geometry (<code>abs.curve</code>, surfaces)   Classes and methods to represent and evaluate geometric primitives such as curves and surfaces (e.g., B-splines), including sampling and derivatives.</p> </li> <li> <p>Topology (<code>abs.topology</code>)   B-Rep connectivity and structure: <code>Edge</code>, <code>Halfedge</code>, <code>Loop</code>, <code>Face</code>, <code>Shell</code>, and <code>Solid</code>. Provides traversal and queries such as face adjacency and trimming-aware filtering.</p> </li> <li> <p>Sampling ( <code>abs.part_processor</code>)   Tools to extract point samples and derived attributes (e.g., normals, sharp features). Includes batch-friendly routines like <code>sample_parts</code>, where a user-defined <code>lambda_func</code> can compute arbitrary per-sample outputs alongside points.</p> </li> </ul>"},{"location":"api_overview/#typical-workflow","title":"Typical workflow","text":"<ol> <li>Load parts from an HDF5 file (<code>read_parts</code>)</li> <li>Traverse topology (solids \u2192 shells \u2192 faces \u2192 loops \u2192 halfedges)</li> <li>Evaluate geometry (curves/surfaces) and sample points and attributes</li> <li>Scale up using the CLI or batch scripts for dataset processing</li> </ol>"},{"location":"authors/","title":"Authors","text":""},{"location":"authors/#core-authors","title":"Core authors","text":""},{"location":"authors/#nafiseh-izadyar","title":"Nafiseh Izadyar","text":"<ul> <li>Affiliation: University of Victoria  </li> <li>Email: nizadyar@uvic.ca</li> </ul>"},{"location":"authors/#sai-chandra-madduri","title":"Sai Chandra Madduri","text":"<ul> <li>Affiliation: University of Victoria  </li> </ul>"},{"location":"authors/#teseo-schneider","title":"Teseo Schneider","text":"<ul> <li>Affiliation: University of Victoria  </li> <li>Email: teseo@uvic.ca</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes are documented using the Keep a Changelog format.</p>"},{"location":"changelog/#version-100-april-1-2025","title":"Version 1.0.0 \u2013 April 1, 2025","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>STEP-to-HDF5 conversion support.</li> <li>Geometry, Topology, Sampling, and Visualization modules.</li> <li>CLI for batch CAD file processing.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Minor bugs in sampling logic.</li> <li>Improved documentation and added examples.</li> </ul>"},{"location":"common/","title":"Common Guidelines","text":""},{"location":"common/#coding-guidelines","title":"Coding Guidelines","text":"<ul> <li>Follow PEP 8 for code style.</li> <li>Use clear and concise docstrings for all code components.</li> <li>Write unit tests for all new features (see <code>tests/</code> folder).</li> </ul>"},{"location":"common/#code-of-conduct","title":"Code of Conduct","text":"<p>All contributors are expected to behave professionally and respectfully. Please read and follow our Code of Conduct.</p> <p>Let\u2019s keep Better Step clean, robust, and welcoming for everyone.</p>"},{"location":"contributing/","title":"Contributing to Better Step","text":"<p>We welcome contributions from the community!</p>"},{"location":"contributing/#how-to-contribute","title":"How to Contribute","text":"<ol> <li> <p>Fork the Repository    Create your own fork via GitHub.</p> </li> <li> <p>Clone Locally <pre><code>git clone https://github.com/yourusername/better-step.git\ncd better-step\n</code></pre></p> </li> <li> <p>Create a Feature Branch <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make Changes and Commit <pre><code>git add .\ngit commit -m \"Add feature: description\"\ngit push origin feature/your-feature-name\n</code></pre></p> </li> <li> <p>Open a Pull Request    Submit a PR with a clear description.</p> </li> </ol>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Please be respectful and follow our Code of Conduct. See Common Guidelines for more details.</p>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Found a bug or want to suggest a feature? Open a GitHub issue with a detailed description.</p>"},{"location":"faq/","title":"Frequently Asked Questions","text":"<p>Q1: What is the purpose of Better Step? A: Converts proprietary STEP files into an open HDF5 format, enabling data access without expensive licenses.</p> <p>Q2: How do I install Better Step? A: Refer to the Installation page. Install with pip or from source.</p> <p>Q3: Which Python versions are supported? A: Python 3.7 and later.</p> <p>Q4: I encountered an error during installation. What should I do? A: Review the Installation page or open a GitHub issue with error details.</p> <p>Q5: How can I contribute? A: See the Contributing page for instructions and guidelines.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#overview","title":"Overview","text":"<p>Better Step is distributed on PyPI and can be installed with <code>pip</code>. The recommended package name is:</p> <ul> <li>PyPI package: <code>abs-hdf5</code></li> </ul> <p>This guide covers installation in a clean Python environment and a quick sanity check to confirm everything is working.</p>"},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.7+</li> <li>(Recommended) A virtual environment to keep dependencies isolated.</li> </ul> <p>Note: HDF5 support is provided through Python dependencies (e.g., <code>h5py</code>) and will be installed automatically as needed.</p>"},{"location":"installation/#install-with-pip-recommended","title":"Install with pip (recommended)","text":"<pre><code>pip install abs-hdf5\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify installation","text":"<pre><code>python -c \"import abs_hdf5; print('abs_hdf5 imported successfully')\"\n</code></pre> <p>If you see a version number without error, the install is successful.</p> <p>Tip: We recommend creating a virtual environment for an isolated installation.</p>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#overview","title":"Overview","text":"<p>This page demonstrates the core workflows in ABS-HDF5: working with CAD models stored in the HDF5 format, sampling geometry for downstream tasks (e.g., point clouds and normals), and using the command-line interface to run the same steps in batch pipelines. The examples below are intended to be minimal and reproducible, start here, then expand to larger datasets and cluster-scale processing.</p>"},{"location":"usage/#basic-workflow","title":"Basic Workflow","text":""},{"location":"usage/#loading-a-cad-file","title":"Loading a CAD File","text":"<pre><code>from abs.utills import read_parts\nparts = read_parts(\"data/sample_hdf5/Box.hdf5\")\nprint(\"Loaded parts:\", parts)\n</code></pre>"},{"location":"usage/#reading-the-meshes","title":"Reading the Meshes","text":"<pre><code>from abs.utills import read_meshes\nmeshes = read_meshes(\"data/sample_hdf5/Box.hdf5\")\n</code></pre>"},{"location":"usage/#sampling-geometry","title":"Sampling Geometry","text":"<p>You can use <code>sample_parts</code> to draw samples from one or more CAD parts.</p> <p>The function returns:</p> <ul> <li><code>P</code> \u2013 the sampled 3D points  </li> <li><code>S</code> \u2013 per-sample auxiliary data computed during sampling  </li> </ul> <p>The behavior of <code>sample_parts</code> is controlled by two user-defined functions:</p> <ul> <li><code>face_func(face, points)</code> \u2013 evaluated for samples drawn on faces  </li> <li><code>edge_func(edge, points)</code> \u2013 evaluated for samples drawn on edges  </li> </ul> <p>These functions allow you to compute arbitrary per-sample attributes such as:</p> <ul> <li>Surface normals  </li> <li>Curvature features  </li> <li>Face/edge IDs  </li> <li>Custom geometric descriptors  </li> </ul> <p>Each function receives:</p> <ul> <li>The geometric entity (<code>face</code> or <code>edge</code>)  </li> <li>The sampled points on that entity  </li> </ul> <p>and must return the auxiliary data associated with those samples.</p> <pre><code>from abs.part_processor import sample_parts\n\ndef face_func(face, points):\n    return face.normal(points)\n\nP, S = sample_parts(parts, num_samples, face_func)\nprint(\"Sampled points:\", P)\n</code></pre>"},{"location":"usage/#advanced-use-cases","title":"Advanced Use Cases","text":"<ul> <li>Learning Normals: Use sample data to train or validate normal estimation.</li> <li>Detecting Sharp Features: Analyze curves to detect geometric edges.</li> <li>Labeling Geometry: Assign labels based on detected primitive types.</li> </ul>"},{"location":"api/geometry/","title":"Geometry Module","text":"<p>The Geometry module handles the representation and processing of geometric entities in CAD models.</p>"},{"location":"api/geometry/#key-components","title":"Key Components","text":"<ul> <li>Curve Processing: Classes for lines, circles, ellipses, B-splines, etc.</li> <li>Surface Processing: Classes for Planes, Cylinders, Cones, Spheres, Torus, B-spline, Revolution, and Extrusion surfaces.</li> </ul>"},{"location":"api/geometry/#usage-example","title":"Usage Example","text":"<pre><code>import numpy as np\n\nfrom abs.curve import BSplineCurve\nimport abs.sampler as sampler\n\n# Example B-spline curve definition (as stored/represented in ABS)\ncurve_data = {\n    \"type\": \"BSplineCurve\",\n    \"closed\": False,\n    \"continuity\": 6,\n    \"degree\": 1,\n    \"interval\": [-3.512e-17, 1.000e+0],\n    \"knots\": [-3.512e-17, -3.512e-17, 1.000e+0, 1.000e+0],\n    \"poles\": [\n        [4.217e+0, -2.184e+1, 2.540e+1],\n        [4.217e+0, -2.184e+1, 5.080e+1],\n    ],\n    \"rational\": False,\n    \"weights\": [1.000e+0, 1.000e+0],\n    \"transform\": [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0]],\n    \"periodic\": False,\n}\n\n# Construct the curve object\ncurve = BSplineCurve(curve_data)\n\n# Sample points along the curve\nn = 2000\nuniform_points = sampler.uniform_sample_curve(curve, n)   # (n, 3)\nrandom_points  = sampler.random_sample_curve(curve, n)    # (n, 3)\n\nprint(\"Uniform samples:\", uniform_points.shape)\nprint(\"Random samples:\", random_points.shape)\nprint(\"First 5 uniform points:\\n\", uniform_points[:5])\n</code></pre>"},{"location":"api/sampling/","title":"Sampling Module","text":"<p>Provides methods to sample CAD models for feature extraction.</p>"},{"location":"api/sampling/#sampling-geometry","title":"Sampling Geometry","text":"<p>Use <code>sample_parts</code> to draw samples from one or more CAD parts. In addition to the sampled points <code>P</code>, the function returns <code>S</code>, which contains per-sample auxiliary data. The behavior is controlled by <code>lambda_func</code>: an arbitrary user-defined function that is evaluated during sampling to compute whatever additional attributes you want (e.g., surface normals, curvature features, IDs, etc.).</p> <pre><code>from abs.part_processor import sample_parts\n\ndef lambda_func(part, topo, points):\n    if topo.is_face():\n        return topo.normal(points)\n    else:\n        return None\n\nP, S = sample_parts(parts, num_samples, lambda_func)\nprint(\"Sampled points:\", P)\n</code></pre>"},{"location":"api/topology/","title":"Topology","text":""},{"location":"api/topology/#topology-module","title":"Topology Module","text":"<p>The topology module describes how geometric entities are connected to form a valid CAD boundary representation (B-Rep). While the geometry module defines what curves and surfaces are, topology defines how they are stitched together into faces, shells, and solids, enabling adjacency queries, traversal, and structure-aware sampling.</p>"},{"location":"api/topology/#concepts","title":"Concepts","text":"<ul> <li> <p>Edges   Boundary curves in 3D. An edge references a 3D curve and endpoints (vertices). Edges are typically used through halfedges, which provide direction and connectivity.</p> </li> <li> <p>Halfedges   Directed edge segments used to build boundaries. Halfedges reference:</p> </li> <li>a 2D trimming curve (in surface parameter space),</li> <li>the underlying 3D edge,</li> <li>orientation w.r.t. the edge,</li> <li> <p>optional mates (the corresponding halfedge on an adjacent face).</p> </li> <li> <p>Loops   Closed sequences of halfedges that form a boundary of a face. A face can have one outer loop and optional inner loops (holes).</p> </li> <li> <p>Faces   Trimmed regions of a surface, bounded by loops. Faces provide access to surface-based operations such as sampling, derivatives, and normals (with correct orientation).</p> </li> <li> <p>Shells   Collections of faces. A shell forms a closed boundary (or part of a boundary) of a solid.</p> </li> <li> <p>Solids   Top-level volumetric entities composed of one or more shells.</p> </li> </ul>"},{"location":"api/topology/#loading-topology-from-an-hdf5-part","title":"Loading topology from an HDF5 part","text":"<p>Topology and geometry are stored per-part in the HDF5 file. The recommended entry point is <code>read_parts</code>, which returns a list of part objects with topology already constructed and linked (e.g., <code>Part \u2192 Solid \u2192 shells \u2192 faces \u2192 loops \u2192 halfedges</code>).</p> <p><pre><code>from abs.utils import read_parts\n\nparts = read_parts(\"data/sample_hdf5/Cone.hdf5\")\nsolids = parts[0].Solid.solids\n\nprint(\"Number of shells for the first solid:\", len(solids[0].shells))\n</code></pre> In this example:</p> <ul> <li><code>parts[0]</code> selects the first part in the file.</li> <li><code>parts[0].Solid.solids</code> returns the list of solids in that part.</li> <li>Each solid contains one or more <code>shells</code>, which in turn contain the boundary faces of the model.</li> </ul>"},{"location":"api/topology/#adjacency-queries","title":"Adjacency queries","text":""},{"location":"api/topology/#finding-adjacent-faces","title":"Finding adjacent faces","text":"<p>Faces can query adjacency through mated halfedges. This is useful for segmentation, feature detection, and topology-driven traversal.</p> <pre><code>from abs.utils import read_parts\n\nparts = read_parts(\"data/sample_hdf5/Cone.hdf5\")\nsolids = parts[0].Solid.solids\n\nfaces = parts[0].Solid.faces\nadjacent = faces[0].find_adjacent_faces()\n\nprint(\"Adjacent faces for face 0:\", [f.id for f in adjacent])\n</code></pre> <p>Implementation note: Adjacency depends on correctly populated <code>mates</code> links and resolved loop/face references. If you are constructing topology directly from raw HDF5 groups, ensure your build step converts indices into object references (e.g., edges \u2192 curves, halfedges \u2192 edges/curves, loops \u2192 halfedges, faces \u2192 loops, etc.).</p>"},{"location":"api/topology/#trimming-and-insideoutside-checks","title":"Trimming and inside/outside checks","text":"<p>Faces may include 2D trimming curves (<code>trimming_curves_2d</code>) that define the valid region of the surface in parameter space. When sampling in UV space, you can filter candidate points to keep only those that lie inside the trimmed face domain.</p> <p><pre><code># uv_points: (N, 2) array of candidate parameter-space samples\nmask = face.filter_outside_points(uv_points)\nuv_interior = uv_points[mask]\n</code></pre> This is commonly used when sampling surfaces that are trimmed by loops (e.g., holes, cutouts, and other bounded face regions).</p>"},{"location":"api/topology/#api-summary","title":"API summary","text":""},{"location":"api/topology/#edge","title":"<code>Edge</code>","text":"<ul> <li><code>get_length()</code></li> <li><code>derivative(points, order=1)</code></li> <li><code>sample(sample_points)</code></li> </ul>"},{"location":"api/topology/#face","title":"<code>Face</code>","text":"<ul> <li><code>normal(points)</code></li> <li><code>get_area()</code></li> <li><code>derivative(points, order=1)</code></li> <li><code>sample(sample_points)</code></li> <li><code>find_adjacent_faces()</code></li> <li><code>filter_outside_points(uv_points)</code></li> </ul>"},{"location":"api/topology/#halfedge","title":"<code>Halfedge</code>","text":"<ul> <li><code>get_length()</code></li> <li><code>derivative(points, order=1)</code></li> <li><code>sample(sample_points)</code></li> </ul>"},{"location":"api/topology/#loop","title":"<code>Loop</code>","text":"<ul> <li>Contains <code>halfedges</code></li> </ul>"},{"location":"api/topology/#shell","title":"<code>Shell</code>","text":"<ul> <li>Contains <code>faces</code></li> </ul>"},{"location":"api/topology/#solid","title":"<code>Solid</code>","text":"<ul> <li>Contains <code>shells</code></li> </ul>"},{"location":"examples/intro/","title":"Intro","text":"In\u00a0[1]: Copied! <pre>print('Hello World!')\n</pre> print('Hello World!') <pre>Hello World!\n</pre>"}]}